<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.6" />
<title>Layers</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Layers</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>This chapter covers the layers system, how they are created, what they do, how they are visualised and the various types of layers.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_layers_in_gplates">Layers in GPlates</h2>
<div class="sectionbody">
<div class="paragraph"><p>Layers provide a way to connect the various processing capabilities of GPlates to data sources (such as loaded feature collections). The outputs of these layers can then be visualised directly in the globe and map views and/or passed to the input of other layers for further processing.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_what_8217_s_the_difference_between_a_layer_and_a_file">What&#8217;s the difference between a layer and a file?</h2>
<div class="sectionbody">
<div class="paragraph"><p>A file contains a collection of features (a <em>feature collection</em>).</p></div>
<div class="paragraph"><p>A <em>layer</em> processes one or more inputs into an output. Inputs to a <em>layer</em> can include, but are not necessarily restricted to, <em>feature collections</em>. For example some types of <em>layers</em>, such as the <strong>Reconstructed Geometries</strong> layer, accept both <em>feature collections</em>  <strong>and</strong> the output of another <em>layer</em>.</p></div>
<div class="paragraph"><p>In the case of the <strong>Reconstructed Geometries</strong> layer:</p></div>
<div class="ulist"><ul>
<li>
<p>
the <em>feature collection</em> input contains (in the feature properties themselves) both the geometries to be reconstructed and the information on how to reconstruct them (such as reconstruction plate ID),
</p>
</li>
<li>
<p>
the <em>layer</em> input (in this case the output of a <strong>Reconstruction Tree</strong> layer) contains the rotations needed to perform the reconstruction,
</p>
</li>
<li>
<p>
the <em>layer</em> itself does the actual reconstruction and generates the reconstructed geometries, and
</p>
</li>
<li>
<p>
the <em>layer</em> output contains the reconstructed features.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The reason the rotations come from the output of another <em>layer</em> rather than a <em>feature collection</em> (containing rotation features) is because a rotation hierarchy needs to be generated from the rotation features themselves and so this process is performed by a different type of layer (the <strong>Reconstruction Tree</strong> layer). See the <strong>More on Reconstructions</strong> chapter for more information about rotation hierarchies.</p></div>
<div class="paragraph"><p>The output of most types of layers (exceptions include <strong>Reconstruction Tree</strong> layers) contain geometries and hence can be visualised in the globe and map views.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_the_layers_dialog">The Layers dialog</h2>
<div class="sectionbody">
<div class="paragraph"><p>The <strong>Layers</strong> dialog is usually displayed automatically when you first load a feature collection. To show/hide the dialog, select the <strong>Show Layers</strong> menu item in the <strong>Window</strong> menu or use the <tt>Ctrl+L</tt> shortcut key.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Menu.png" alt="screenshots/Layers-Menu.png" />
</span></p></div>
<div class="paragraph"><p>The <strong>Layers</strong> dialog contains all layers and is the central place to configure layer visibility, draw order, input connections and layer-specific options.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-AllCollapsed.png" alt="screenshots/Layers-AllCollapsed.png" />
</span></p></div>
<div class="paragraph"><p>The collapsed view of each layer in the dialog shows a layer name, type and colour. The type and colour are associated (for example, a <em>green</em> layer is always of type <strong>Reconstructed Geometries</strong>). The layer name depends on how the layer was created (see the <strong>Creating layers</strong> section for more details).</p></div>
<div class="sect2">
<h3 id="_changing_layer_visibility">Changing layer visibility</h3>
<div class="paragraph"><p>The visibility of each layer can be individually disabled (or enabled) by clicking the <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> icon to the left of the layer name.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Some types of layers (such as the <strong>Reconstruction Tree</strong> layer) do not have a visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span>. This is because those layer types do not output geometries and hence there is nothing to visualise in the globe and map views.</td>
</tr></table>
</div>
<div class="paragraph"><p>Each layer contains a small black arrow <span class="image">
<img src="icons/gnome_stock_data_next_16.png" alt="icons/gnome_stock_data_next_16.png" />
</span> that can be clicked on to expand the layer and show the input connections and any layer-specific options. Once expanded you can click on the <span class="image">
<img src="icons/gnome_stock_data_next_down_16.png" alt="icons/gnome_stock_data_next_down_16.png" />
</span> symbol to collapse the layer again.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-AllButOneCollapsed.png" alt="screenshots/Layers-AllButOneCollapsed.png" />
</span></p></div>
</div>
<div class="sect2">
<h3 id="_changing_layer_input_connections">Changing layer input connections</h3>
<div class="paragraph"><p>Every layer has an "<tt>Input channels</tt>" section that displays the current inputs and also allows the user add, remove or change inputs to each layer. Each layer type can have different <em>types</em> of input channels. In the <strong>Reconstructed Geometries</strong> example above there are <em>two</em> types of input channel, one labelled "<tt>Reconstructable features</tt>" and the other labelled "<tt>Reconstruction tree</tt>". The types of input channel are specific to each layer type and will be covered in greater detail in the <strong>Types of layers</strong> section.</p></div>
<div class="paragraph"><p>Input connections can be:</p></div>
<div class="ulist"><ul>
<li>
<p>
added using the "<tt>Add new connection</tt>" option, and
</p>
</li>
<li>
<p>
removed using the <span class="image">
<img src="icons/gnome_list_remove_22.png" alt="icons/gnome_list_remove_22.png" />
</span> symbol to the right of each existing connection.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_enabling_and_disabling_a_layer">Enabling and disabling a layer</h3>
<div class="paragraph"><p>In the "<tt>Manage layer</tt>" section of each layer you can <em>Enable</em> and <em>Disable</em> the layer.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">When a layer is disabled it is greyed out in the <em>Layers</em> dialog and cannot be changed until it is enabled again.</td>
</tr></table>
</div>
<div class="paragraph"><p>The "<tt>Disable layer</tt>" and "<tt>Enable layer</tt>" options determine if a layer does any processing or not. If a layer is disabled then that layer is effectively switched off and nothing is generated or output by that layer. It also means nothing will be drawn in the globe and map views for that layer (regardless of that layer&#8217;s visibility). And it means any other layer receiving input from that layer will receive nothing.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">For example, if the visibility of a <em>Reconstructed Geometries</em> layer is turned off but the layer is still enabled then feature geometries are still reconstructed internally by GPlates for that layer (they are just not displayed). This is useful if you want the output of a <em>Reconstructed Geometries</em> layer to feed into the input of another layer but you don&#8217;t want the reconstructed geometries to be visible. Currently there aren&#8217;t any good examples of when you might want to do this but there will be in the near future.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_how_do_i_make_one_layer_draw_on_top_of_another">How do I make one layer draw on top of another?</h3>
<div class="paragraph"><p>Layers are drawn onto the globe and map views in the order in which they are displayed in the <em>Layers</em> dialog. Layers at the top are drawn on top of layers below them.</p></div>
<div class="paragraph"><p>To change the visual ordering of a layer simply drag it onto another layer.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Either the unexpanded part of the layer (the part containing the layer name and type) or the coloured bar on the left (expanded or unexpanded) can be grabbed in this way. You can still grab a layer when it is expanded - you just need to grab in those areas of the layer. Typically the mouse cursor changes to a hand grab icon over areas that allow layer dragging.</td>
</tr></table>
</div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-AllCollapsed.png" alt="screenshots/Layers-AllCollapsed.png" />
</span></p></div>
<div class="paragraph"><p>In this example, the raster layers are at the bottom and hence are drawn underneath the other layers. And the user has selected only one raster to be visible (the visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> is on for only one raster layer).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The layer positions of <strong>Reconstruction Tree</strong> layers are not important since they produce no visible output.</td>
</tr></table>
</div>
<div class="paragraph"><p>Previous versions of GPlates required layers containing vector geometries to be drawn on top of any raster layers otherwise the raster layers would obscure them (especially if they were global rasters). However GPlates now supports adjusting raster transparency (and intensity) individually per raster layer - see <strong>Reconstructed Raster Layer</strong> for more details. The following image shows a raster layer (with opacity set to 0.64) on top of layer containing coastlines - the coastlines are under the raster but are partially visible through it.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Raster-Opacity.png" alt="screenshots/Layers-Raster-Opacity.png" />
</span></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_layers">Creating layers</h2>
<div class="sectionbody">
<div class="paragraph"><p>There are two ways in which a layer can be created. Either automatically by GPlates when the user loads a feature collection or explicitly when the user creates a new layer.</p></div>
<div class="sect2">
<h3 id="_automatically_created_layers">Automatically created layers</h3>
<div class="paragraph"><p>When you load a feature collection usually one (or more) layers are created.</p></div>
<div class="paragraph"><p>Loading these feature collections&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Files.png" alt="screenshots/Layers-Files.png" />
</span></p></div>
<div class="paragraph"><p>&#8230;will result in these layers being automatically created (in this case one layer per feature collection)&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-LayerPerFile.png" alt="screenshots/Layers-LayerPerFile.png" />
</span></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The layer name is obtained from the feature collection filename.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Unloading <span class="image">
<img src="icons/eject.png" alt="icons/eject.png" />
</span> a feature collection through the <em>Manage Feature Collections</em> dialog will also remove the corresponding layer or layers that were automatically created for it.</td>
</tr></table>
</div>
<div class="paragraph"><p>In some situations loading one feature collection can create two layers.</p></div>
<div class="paragraph"><p>Here <strong>one</strong> feature collection containing both <em>Topological Closed Plate Polygon</em> features <strong>and</strong> the regular features referenced by them is loaded&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-OneFile.png" alt="screenshots/Layers-OneFile.png" />
</span></p></div>
<div class="paragraph"><p>&#8230;and <strong>two</strong> layers are automatically created&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-TwoLayersOneFile.png" alt="screenshots/Layers-TwoLayersOneFile.png" />
</span></p></div>
<div class="paragraph"><p>One layer reconstructs the regular features that are referenced by the plate polygons and the other layer does the work of stitching the features together, intersecting them and creating the dynamic polygon boundary.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Because there are two layers, the dynamic plate polygon boundaries can be made visible while the features used to construct the dynamic boundary can be made invisible.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_layers_created_by_the_user">Layers created by the user</h3>
<div class="paragraph"><p>Layers can be explicitly created by the user.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-AddNewLayer.png" alt="screenshots/Layers-AddNewLayer.png" />
</span></p></div>
<div class="paragraph"><p>After selecting <em>Add new layer&#8230;</em> at the top of the <em>Layers</em> dialog you can then select the type of layer you want to create. Here is example of creating a new <strong>Calculated Velocity Fields</strong> layer.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-AddNewLayer-Velocities.png" alt="screenshots/Layers-AddNewLayer-Velocities.png" />
</span></p></div>
<div class="paragraph"><p>A new layer is then created and inserted at the top of the layer stack.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-NewLayer-Velocities.png" alt="screenshots/Layers-NewLayer-Velocities.png" />
</span></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The layer name will be "<tt>Layer</tt>" suffixed with an integer (for example, "<tt>Layer 21</tt>"). It is not based off a feature collection filename because it is not automatically created when a feature collection is loaded.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The new layer&#8217;s input channels are all unconnected and you will need to make the connections explicitly in order for the layer to function correctly. It is OK to leave a layer in an unconnected state - it will then simply do nothing.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_types_of_layers">Types of layers</h2>
<div class="sectionbody">
<div class="paragraph"><p>There are various types of layers each represented by a different colour in the <em>Layers</em> dialog.</p></div>
<div class="paragraph"><p>Each layer provides a different type of functionality, has different types of inputs and generates different outputs.</p></div>
<div class="sect2">
<h3 id="_reconstruction_tree_layer">Reconstruction Tree Layer</h3>
<div class="paragraph"><p>This layer combines rotation features from one or more feature collections to form a reconstruction tree or rotation hierarchy (see the <strong>More on Reconstructions</strong> chapter for more information about rotation hierarchies). This rotation hierarchy can then determine the equivalent absolute rotation of a plate relative to the top of the hierarchy (the anchored plate).</p></div>
<div class="sect3">
<h4 id="_reconstruction_tree_options">Reconstruction Tree Options</h4>
<div class="paragraph"><p>A <em>Reconstruction Tree</em> layer has the following configuration options:</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructionTree.png" alt="screenshots/Layers-Options-ReconstructionTree.png" />
</span></p></div>
<div class="paragraph"><p>Since this type of layer does not produce visible geometries it does not have the visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> to enable/disable visibility.</p></div>
<div class="paragraph"><p>Instead it has the icon <span class="image">
<img src="icons/gnome_emblem_default_yellow_16.png" alt="icons/gnome_emblem_default_yellow_16.png" />
</span> to set/indicate the default <em>Reconstruction Tree</em> layer - see <strong>Default Reconstruction Tree</strong> below.</p></div>
<div class="paragraph"><p>The <tt>Input channels</tt> section has one type of input:</p></div>
<div class="ulist"><ul>
<li>
<p>
"<em>Reconstruction features</em>" which is a list of input feature collections that contain rotation features.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">More than one feature collection can be connected to the input of a <em>Reconstruction Tree</em> layer. For example, one feature collection may represent absolute rotations while another represents relative rotations. When they are both input to the same <em>Reconstruction Tree</em> layer they are combined together inside the layer to form a single rotation hierarchy.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">If there are no rotation features in any input feature collections then no rotation hierarchy is generated which means nothing using this <em>Reconstruction Tree</em> layer will rotate or reconstruct.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">If an input feature collection contains both <strong>rotation</strong> and <strong>non-rotation</strong> features then the <strong>non-rotation</strong> features are simply ignored (by the <em>Reconstruction Tree</em> layer) since they cannot contribute to a rotation hierarchy. The <strong>non-rotation</strong> features will however have resulted in the automatic creation of a <em>Reconstructed Geometries</em> layer (along with the automatic creation of this <em>Reconstruction Tree</em> layer). So the <strong>non-rotation</strong> features won&#8217;t be ignored altogether - they are just ignored by the <em>Reconstruction Tree</em> layer. In turn, the <em>Reconstructed Geometries</em> layer will ignore the <strong>rotation</strong> features.</td>
</tr></table>
</div>
<div class="paragraph"><p><tt>View Total Reconstruction Poles</tt> displays a dialog to view a variety of information about the reconstruction poles and the plate hierarchy for that particular <em>Reconstruction Tree</em> layer (at the current reconstruction time). See the <strong>Reconstructions</strong> chapter for more information on that dialog.</p></div>
</div>
<div class="sect3">
<h4 id="_default_reconstruction_tree">Default Reconstruction Tree</h4>
<div class="paragraph"><p>One fundamental difference between <em>Reconstruction Tree</em> layers and other types of layers is you can set a default <em>Reconstruction Tree</em> layer. Only one <em>Reconstruction Tree</em> layer can be the default and you can tell which one is the default because it will be the only layer with the <span class="image">
<img src="icons/gnome_emblem_default_yellow_16.png" alt="icons/gnome_emblem_default_yellow_16.png" />
</span> icon visible next to the layer name.</p></div>
<div class="paragraph"><p>Selecting another <em>Reconstruction Tree</em> layer with no visible <span class="image">
<img src="icons/gnome_emblem_default_yellow_16.png" alt="icons/gnome_emblem_default_yellow_16.png" />
</span> icon will make it the new default.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-DefaultReconstructionTree.png" alt="screenshots/Layers-DefaultReconstructionTree.png" />
</span></p></div>
<div class="paragraph"><p>When a feature collection (containing rotation features) is loaded, its associated <em>Reconstruction Tree</em> layer becomes the new <strong>default</strong> <em>Reconstruction Tree</em> layer. If you want your previous default <em>Reconstruction Tree</em> layer to remain as the default (when subsequent rotation files are loaded) you will need to check the <tt>Keep as default tree upon file open</tt> check box. This prevents subsequently loaded <em>Reconstruction Tree</em> layers from becoming the default.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-SetDefaultReconstructionTree.png" alt="screenshots/Layers-SetDefaultReconstructionTree.png" />
</span></p></div>
<div class="paragraph"><p>The default <em>Reconstruction Tree</em> layer is only applicable if another layer (such as a <em>Reconstructed Geometries</em> layer) requires a <em>Reconstruction Tree</em> input <strong>and</strong> has not explicitly connected one to its input.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">If all layers with a <em>Reconstruction Tree</em> input have an explicit user connection then the default <em>Reconstruction Tree</em> layer effectively does not apply. However as soon as the user disconnects a <em>Reconstruction Tree</em> input on any layer, the default <em>Reconstruction Tree</em> layer will again apply.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reconstructed_geometries_layer">Reconstructed Geometries Layer</h3>
<div class="paragraph"><p>This layer reconstructs features from one or more feature collections using the current reconstruction time. Typically for each input feature geometry there is a corresponding reconstructed geometry (a rotated version of the present-day geometry). This layer is designed to handle different reconstruction methods in the one layer type. Examples of reconstruction methods include rigid plate rotation and half-stage rotation (such as at a Mid-Ocean Ridge).</p></div>
<div class="paragraph"><p>In order to rotate the present-day geometries of features, a rotation hierarchy is required and this is obtained by connecting a <strong>Reconstruction Tree</strong> layer.</p></div>
<div class="sect3">
<h4 id="_reconstructed_geometries_options">Reconstructed Geometries Options</h4>
<div class="paragraph"><p>A <em>Reconstructed Geometries</em> layer has the following configuration options:</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedGeometries.png" alt="screenshots/Layers-Options-ReconstructedGeometries.png" />
</span></p></div>
<div class="paragraph"><p>The visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> determines whether the reconstructed geometries are drawn in the globe and map views.</p></div>
<div class="paragraph"><p>The <tt>Input channels</tt> section has two types of input:</p></div>
<div class="ulist"><ul>
<li>
<p>
"<em>Reconstructable features</em>" is one or more feature collections containing reconstructable features. These are features that have geometry and have properties that provide enough information, aside from a rotation hierarchy, for GPlates to be able to reconstruct their geometry (such as a reconstruction plate ID).
</p>
</li>
<li>
<p>
"<em>Reconstruction tree</em>" is zero or one <em>Reconstruction Tree</em> layer. This input layer provides the rotation hierarchy that enables GPlates to reconstruct the features in the <em>Reconstructable features</em> input channel. If there is no <em>Reconstruction Tree</em> layer connected then the default <em>Reconstruction Tree</em> layer is used (see the section on <strong>Reconstruction Tree Layer</strong> for more details on the default <em>Reconstruction Tree</em>).
</p>
</li>
</ul></div>
<div class="paragraph"><p>The following is an example of an <em>implicit</em> connection to the <strong>default</strong> <em>Reconstruction Tree</em> layer (because there is no <em>explicit</em> connection)&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-ReconstructedGeometries-UnconnectedTree.png" alt="screenshots/Layers-ReconstructedGeometries-UnconnectedTree.png" />
</span></p></div>
<div class="paragraph"><p>&#8230;if you then changed which layer was the default <em>Reconstruction Tree</em> layer then the new default would be implicitly connected. This is useful if you have a lot of <em>Reconstructed Geometries</em> layers open and you want to change the <em>Reconstruction Tree</em> layer that they all use without having to reconnect each layer individually. In this case you would just need to change the default <em>Reconstruction Tree</em> layer.</p></div>
<div class="paragraph"><p>On the other hand if you explicitly connect a <em>Reconstruction Tree</em> layer then the default is ignored (until you explicitly disconnect it).</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-ReconstructedGeometries-ConnectedTree.png" alt="screenshots/Layers-ReconstructedGeometries-ConnectedTree.png" />
</span></p></div>
<div class="paragraph"><p>Note that, in this example, "<tt>Add new connection</tt>" is disabled (and greyed out) since only one <em>Reconstruction Tree</em> input connection is allowed. You can still have multiple rotation feature collections as input to a <em>Reconstruction Tree</em> layer though.</p></div>
<div class="paragraph"><p><tt>Set VGP visibility</tt> displays a dialog to specify how Virtual Geomagnetic Pole (VGP) features are displayed. This option only applies to VGP features - for other feature types these settings are ignored.</p></div>
<div class="paragraph"><p><tt>Draw Style Setting</tt> displays a dialog to control the colouring of features - see <a href="Controlling_View.html#_manage_colouring">Manage Colouring</a></p></div>
<div class="paragraph"><p>The <tt>Filled polygons</tt> check box can be selected to colour fill features containing polygon geometries. Currently the colour of each filled polygon will be the same as the polygon outline colour (ie, same colour as unfilled polygons).</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedGeometries-FilledPolygons.png" alt="screenshots/Layers-Options-ReconstructedGeometries-FilledPolygons.png" />
</span></p></div>
<div class="paragraph"><p>The following image shows filled polygons for the static polygons in the GPlates sample data.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-ReconstructedGeometries-FilledPolygons.png" alt="screenshots/Layers-ReconstructedGeometries-FilledPolygons.png" />
</span></p></div>
</div>
</div>
<div class="sect2">
<h3 id="_reconstructed_raster_layer">Reconstructed Raster Layer</h3>
<div class="paragraph"><p>This layer can display a single raster feature (containing a single raster image or a time-dependent sequence of raster images) in the following configurations:</p></div>
<div class="ulist"><ul>
<li>
<p>
a raster (or time-dependent raster sequence) that is <em>not</em> reconstructed, or
</p>
</li>
<li>
<p>
a raster (or time-dependent raster sequence) that is reconstructed using a set of static polygons, or
</p>
</li>
<li>
<p>
a raster (or time-dependent raster sequence) that is reconstructed using a set of static polygons and an age grid.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Rasters are displayed at the highest resolution available for the current monitor screen size and amount of view zoom. As you zoom in, higher resolutions versions of the original raster are progressively loaded and displayed until the resolution of the original raster is exceeded.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Rasters are displayed both the <em>Globe</em> and <em>Map</em> views. Previous versions of GPlates only displayed rasters in the <em>Globe</em> view.</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="_reconstructed_raster_options">Reconstructed Raster Options</h4>
<div class="paragraph"><p>A <em>Reconstructed Raster</em> layer has the following configuration options:</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedRaster.png" alt="screenshots/Layers-Options-ReconstructedRaster.png" />
</span></p></div>
<div class="paragraph"><p>The visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> determines whether the raster is drawn in the globe and map views.</p></div>
<div class="paragraph"><p>The <tt>Input channels</tt> section has three types of input:</p></div>
<div class="ulist"><ul>
<li>
<p>
"<em>Reconstruction tree</em>" is zero or one <em>Reconstruction Tree</em> layer. This input layer provides the rotation hierarchy that enables GPlates to reconstruct the static polygon features in the <em>Polygon features</em> input channel. If there is no <em>Reconstruction Tree</em> layer connected then the default <em>Reconstruction Tree</em> layer is used (see the section on <strong>Reconstruction Tree Layer</strong> for more details on the default <em>Reconstruction Tree</em>).
</p>
</li>
<li>
<p>
"<em>Reconstructed polygons</em>" is zero, one (or more) <em>Reconstructed Geometries</em> layers. The features in the <em>Reconstructed Geometries</em> layers should contain static polygon features (the <em>static</em> meaning the polygon shapes don&#8217;t change) and should contain a reconstruction plate ID property on each polygon feature. If there are no polygon features then the raster is not reconstructed.
</p>
</li>
<li>
<p>
"<em>Age grid raster</em>" is zero or one <em>Reconstructed Raster</em> layer containing an age-grid raster. Each pixel of the age grid raster is a floating-point value representing the age of present-day oceanic crust.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Previous versions of GPlates required the age grid to be in a special age grid layer type and required a special band name for the age grid raster. GPlates no longer has these requirements - an age grid raster is no longer a special case raster - it is just another raster like any other.</td>
</tr></table>
</div>
<div class="paragraph"><p><tt>Opacity</tt> controls the transparency of the raster allowing layers drawn underneath a raster layer to become visible through the raster to varying degrees.</p></div>
<div class="paragraph"><p><tt>Intensity</tt> differs from transparency in that it only darkens the raster but does not allow layers underneath to become visible through the raster.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedRaster-Opacity.png" alt="screenshots/Layers-Options-ReconstructedRaster-Opacity.png" />
</span></p></div>
<div class="paragraph"><p>If the raster is non-RGBA (such as a floating-point NetCDF raster) then there are extra options in the <em>Raster options</em> section related to colour palettes.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedRaster-WithColourPalette.png" alt="screenshots/Layers-Options-ReconstructedRaster-WithColourPalette.png" />
</span></p></div>
<div class="paragraph"><p>In the "<em>Raster options</em>" section you can configure the colour palette, for a specific raster band, used to convert each floating-point pixel value to an RGB(A) colour value by selecting a CPT file. Note that this only applies to rasters that are not already in RGB(A) format - see the <strong>Data File Types</strong> chapter for more information on raster formats. CPT files come in two forms - categorical and regular. Categorical is typically used for non-numerical data (where interpolation of values is undefined). Regular is for numerical, continuously-varying data and is more applicable for rasters. The regular CPT file allows the user to map floating-point pixel values to colours with linear interpolation inbetween.</p></div>
<div class="paragraph"><p>Selecting "<em>Use Default</em>" will map floating-point pixel values to a small set of pre-defined arbitrary colours. Pixel values two standard deviations away from the mean pixel value will be continously mapped to the small range of colours (with linear interpolation between the colours).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">There is no colour palette option for an RGBA raster.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_a_raster_that_is_em_not_em_reconstructed">Configuring a raster that is <em>not</em> reconstructed</h4>
<div class="paragraph"><p>This is the default configuration where no input channels are connected (except the raster feature itself).</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-Raster.png" alt="screenshots/Layers-Options-Raster.png" />
</span></p></div>
<div class="paragraph"><p>The raster is rendered as a non-rotating (or non-reconstructing) georeferenced raster (in this example a global raster). Changing the reconstruction time makes no difference unless the raster feature is a time-dependent raster in which case the image itself will change over time (but will still remain stationary on the globe)&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Raster.png" alt="screenshots/Layers-Raster.png" />
</span></p></div>
</div>
<div class="sect3">
<h4 id="_configuring_a_raster_that_is_reconstructed_using_static_polygons">Configuring a raster that is reconstructed using static polygons</h4>
<div class="paragraph"><p>This configuration does everything the above configuration does (including resolving a time-dependent raster over time) in addition to reconstructing the raster.</p></div>
<div class="paragraph"><p>The reconstruction is peformed using a set of static polygons. Conceptually the single raster image (or time-resolved raster image for a time-dependent sequence) is cookie cut into multiple polygon-shaped pieces using the present-day location of each static polygon. Then each polygon is reconstructed using its reconstruction plate ID. As each polygon is reconstructed back in time it rotates independently (for polygons with different plate IDs) and transports its cookie-cut piece of raster image with it.</p></div>
<div class="paragraph"><p>Only polygons whose valid time range (between age of appearance and disappearance) includes the current reconstruction time will be rendered. This is most noticeable near mid-ocean ridges where long thin polygons adjacent the ridge appear/disappear as you go fowards/backwards in time to simulate accretion or crust material at the mid-ocean ridge. This is also the reason why a reconstructed global raster covers the entire globe at present-day but covers a progressively smaller area of the globe as you reconstruct back in time.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Currently polygons (and their associated cookie-cut raster pieces) with higher plate IDs are drawn on top of polygons with lower plate IDs. This is because higher plate IDs tend to be further from the anchor plate in the plate circuit - although this is not necessarily the case.</td>
</tr></table>
</div>
<div class="paragraph"><p>This configuration is obtained by connecting the "<tt>Reconstructed polygons</tt>" input channel to a <em>Reconstructed Geometries</em> layer containing static polygons.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedRasterStaticPolys.png" alt="screenshots/Layers-Options-ReconstructedRasterStaticPolys.png" />
</span></p></div>
<div class="paragraph"><p>The resulting reconstructed raster&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-ReconstructedRaster-NoAgeGrid.png" alt="screenshots/Layers-ReconstructedRaster-NoAgeGrid.png" />
</span></p></div>
<div class="paragraph"><p>&#8230;note the thin gap along the mid-ocean ridge between South America and Africa. This is an example of a thin ridge-aligned polygon popping out, as you reconstruct backwards in time, because its time of appearance is after the current reconstruction time (34Ma in the example).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Currently self-intersecting polygons (even if only negligbly intersecting) are ignored which can result in "holes" in the raster. The static polygons GPML file distributed in the GPlates sample data currently contains no self-intersecting polygons. <em>In a future release GPlates will be modified to handle self-intersecting polygons</em>.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_a_raster_that_is_reconstructed_using_static_polygons_and_present_day_age_grid">Configuring a raster that is reconstructed using static polygons and present-day age grid</h4>
<div class="paragraph"><p>This configuration builds on the previous configuration "<em>Configuring a raster that is reconstructed using static polygons</em>" by adding an age-grid raster.</p></div>
<div class="paragraph"><p>When an age grid is <em>not</em> used the static polygons pop in and out as whole polygons when the reconstruction time changes. Thus the subduction and accretion of oceanic crust is simulated using lots of thin polygons with small differences in age. The age grid takes this even further by providing per-pixel (rather than per-polygon) age comparisons to provide a more continuous transition at plate boundaries. Here the age of the pixel is used instead of the age of the polygon.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Pixel values, in the age grid raster, that are NaN (a special floating-point value representing "Not a number") represent non-oceanic crust. For these pixels the polygon age is used instead of the pixel age. So basically the pixel age is used only where it is valid.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The per-pixel age comparison test is currently performed on the graphics card where it is significantly faster. Hence the cost to interactivity, of age grids, is small.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Changing the rotation model requires re-generating the age grid - this process is performed outside GPlates.</td>
</tr></table>
</div>
<div class="paragraph"><p>This configuration is obtained by connecting the "<tt>Reconstructed polygons</tt>" input channel to a <em>Reconstructed Geometries</em> layer containing static polygons <strong>and</strong> connecting the "<tt>Age grid raster</tt>" input channel to a <em>Reconstructed Raster</em> layer containing an age grid.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-ReconstructedRasterStaticPolysAndAgeGrid.png" alt="screenshots/Layers-Options-ReconstructedRasterStaticPolysAndAgeGrid.png" />
</span></p></div>
<div class="paragraph"><p>The resulting reconstructed raster (with the assistance of an age grid)&#8230;</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-ReconstructedRaster-AgeGrid.png" alt="screenshots/Layers-ReconstructedRaster-AgeGrid.png" />
</span></p></div>
<div class="paragraph"><p>&#8230;note the absense of the thin gap along the mid-ocean ridge between South America and Africa. This is due to the per-pixel age comparison (as opposed to the per-polygon age comparison).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">There will still be small gaps of varying size if there are differences in the rotation model used to generate the age grid (offline) and the rotation model used to reconstruct the static polygons.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">With previous versions of GPlates the resolution displayed on screen was the lowest of the source raster and the age grid raster - which meant if you had an age grid that was lower resolution than your source raster then your source raster could never be displayed at its highest resolution (no matter how much you zoomed into the view). This is no longer a restriction and the highest resolution of both source raster and age grid raster is now available.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">Even though the "<tt>Age grid raster</tt>" input channel references a <em>Reconstructed Raster</em> layer the age grid is only sampled at present day (0Ma).</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">It is possible to "reconstruct" an age grid raster <strong>and</strong> use it to assist with the reconstruction of another raster at the same time.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resolved_topological_closed_plate_boundaries_layer">Resolved Topological Closed Plate Boundaries Layer</h3>
<div class="paragraph"><p>This layer generates dynamic plate polygons by closing the plate boundary at each reconstruction time. The plate boundary consists of a sequence of regular features whose geometry is reconstructed and then stitched together to form a closed polygon region for each plate polygon feature. See the <strong>Topology Tools</strong> chapter for more information of topological features.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-TCCB-View.png" alt="screenshots/Layers-TCCB-View.png" />
</span></p></div>
<div class="sect3">
<h4 id="_resolved_topological_closed_plate_boundaries_options">Resolved Topological Closed Plate Boundaries Options</h4>
<div class="paragraph"><p>A <em>Resolved Topological Closed Plate Boundaries</em> layer has the following configuration options:</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-TCPB.png" alt="screenshots/Layers-Options-TCPB.png" />
</span></p></div>
<div class="paragraph"><p>The visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> determines whether the resolved topological closed plate polygons are drawn in the globe and map views.</p></div>
<div class="paragraph"><p>Here is an example of turning off the visibility of the <em>Reconstructed Geometries</em> layer so that only the topological polygons are visible.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-TCCB-Visibility.png" alt="screenshots/Layers-TCCB-Visibility.png" />
</span></p></div>
<div class="paragraph"><p>The <tt>Input channels</tt> section has two types of input:</p></div>
<div class="ulist"><ul>
<li>
<p>
"<em>Topological closed plate boundary features</em>" is one (or more) <em>feature collections</em> containing topological closed plate polygon features. These are features topologically reference regular features and form a continuously closing dynamic plate polygon from them through geological time.
</p>
</li>
<li>
<p>
"<em>Reconstruction tree</em>" is zero or one <em>Reconstruction Tree</em> layer.
</p>
</li>
</ul></div>
<div class="paragraph"><p><tt>Draw Style Setting</tt> displays a dialog to control the colouring of features - see <a href="Controlling_View.html#_manage_colouring">Manage Colouring</a></p></div>
<div class="paragraph"><p>The <tt>Filled polygons</tt> check box can be selected to colour fill the topological polygon geometries. Currently the colour of each filled polygon will be the same as the polygon outline colour (ie, same colour as unfilled polygons).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The regular features, that make up the boundaries of each topological plate polygon, are reconstructed in another layer - a <em>Reconstructed Geometries</em> layer.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">The user does not need to make a connection to the <em>Reconstructed Geometries</em> layer.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resolved_topological_networks_layer">Resolved Topological Networks Layer</h3>
<div class="paragraph"><p>This layer generates dynamic plate polygons in a manner similar to a <em>Resolved Topological Closed Plate Boundaries</em> layer with the addition of deforming the plate region. See the <strong>Topology Tools</strong> chapter for more information of topological features.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-TN-View.png" alt="screenshots/Layers-TN-View.png" />
</span></p></div>
<div class="sect3">
<h4 id="_resolved_topological_networks_options">Resolved Topological Networks Options</h4>
<div class="paragraph"><p>A <em>Resolved Topological Networks</em> layer has the following configuration options:</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-TN.png" alt="screenshots/Layers-Options-TN.png" />
</span></p></div>
<div class="paragraph"><p>The <tt>Input channels</tt> section has two types of input:</p></div>
<div class="ulist"><ul>
<li>
<p>
"<em>Topological network features</em>" is one (or more) <em>feature collections</em> containing topological network features.
</p>
</li>
<li>
<p>
"<em>Reconstruction tree</em>" is zero or one <em>Reconstruction Tree</em> layer.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The various <tt>Show&#8230;</tt> options under <tt>Network &amp; Triangulation options</tt> are used to display different aspects of the triangulation generated in the deforming region. These are mostly debugging and visualisation aids.</p></div>
<div class="paragraph"><p><tt>Draw Style Setting</tt> displays a dialog to control the colouring of features - see <a href="Controlling_View.html#_manage_colouring">Manage Colouring</a></p></div>
</div>
</div>
<div class="sect2">
<h3 id="_calculated_velocity_fields_layer">Calculated Velocity Fields Layer</h3>
<div class="paragraph"><p>This layer calculates plate velocities at a set of static locations. Here <em>static</em> means non-rotating (the points do <em>not</em> move across the globe as the reconstruction time changes).</p></div>
<div class="paragraph"><p>The velocities are calculated by determining which topological closed plate polygon contains each static point location. Then the finite rotation corresponding to that plate polygon&#8217;s reconstruction plate ID is used to calculate the velocity at the static point location.</p></div>
<div class="paragraph"><p>This type of layer is automatically created when a <em>feature collection</em> containing features of type <em>gpml:MeshNode</em> is loaded. These features contain multi-point geometry that defines the set of static locations at which to calculate velocity.</p></div>
<div class="paragraph"><p>An associated <em>Reconstructed Geometries</em> layer is also created to visualise the point locations. The <em>Calculated Velocity Fields</em> layer visualises the velocities as arrows (longer arrows represent larger velocities).</p></div>
<div class="paragraph"><p>The velocity arrows are not drawn at every static point location. Instead they are spaced apart so that they are minimum distance from each other on the "screen" (on the computer monitor). This so they can be distinguished visually even for very dense meshes.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-VelocityArrows.png" alt="screenshots/Layers-VelocityArrows.png" />
</span></p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">You can also explicitly create a new <em>Calculated Velocity Fields</em> layer and connect its input channels. This is useful for calculating velocities at the points in a multi-point, polyline or polygon features - for the purpose of velocity calculations each geometry is viewed simply as a collection of points (regardless of whether it&#8217;s a polyline or polygon or not).</td>
</tr></table>
</div>
<div class="sect3">
<h4 id="_calculated_velocity_fields_options">Calculated Velocity Fields Options</h4>
<div class="paragraph"><p>A <em>Calculated Velocity Fields</em> layer has the following configuration options:</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-Options-Velocities.png" alt="screenshots/Layers-Options-Velocities.png" />
</span></p></div>
<div class="paragraph"><p>The visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> of the <em>Calculated Velocity Fields</em> layer determines whether the velocity arrows are drawn in the globe and map views. And the visibility icon <span class="image">
<img src="icons/inkscape_object_visible_16.png" alt="icons/inkscape_object_visible_16.png" />
</span> of the <em>Reconstructed Geometries</em> layer determines whether the set of static points (at which velocities are calculated) are drawn.</p></div>
<div class="paragraph"><p><span class="image">
<img src="screenshots/Layers-VelocityAndReconstructedGeometries.png" alt="screenshots/Layers-VelocityAndReconstructedGeometries.png" />
</span></p></div>
<div class="paragraph"><p>The <tt>Input channels</tt> section has three types of input:</p></div>
<div class="ulist"><ul>
<li>
<p>
"<em>Mesh-point Features</em>" is one (or more) <em>feature collections</em> containing features of type <em>gpml:MeshNode</em> (or other feature types if you explicitly created your own velocity layer) representing the set of static point locations at which to calculate velocity.
</p>
</li>
<li>
<p>
"<em>Reconstruction tree</em>" is zero or one <em>Reconstruction Tree</em>. The <em>Reconstruction Tree</em> layer is used to calculate velocities. Note that this <em>should</em> actually be the rotation tree used by the <em>Resolved Topological Closed Plate Boundaries</em> layer (the one connected on the "<em>Source Features</em>" input channel). <em>This will be fixed in a future release</em>.
</p>
</li>
<li>
<p>
"<em>Reconstructed static/dynamic polygons/networks</em>* is one (or more) <em>layers</em> of type <em>Reconstructed Geometries</em> (containing static polygons), <em>Resolved Topological Closed Plate Boundaries</em> (containing dynamic polygons) and/or <em>Resolved Topological Networks</em> (containing deforming dynamic polygons) that generates the "surfaces" that the velocities are calculated in.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">When a <em>Calculated Velocity Fields</em> layer is automatically created (when the appropriate feature collection is loaded) GPlates will search for all <em>Resolved Topological Closed Plate Boundaries</em> and <em>Resolved Topological Networks</em> layers and connect their output to the input of the new <em>Calculated Velocity Fields</em> layer.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img src="./images/icons/note.png" alt="Note" />
</td>
<td class="content">When a <em>Resolved Topological Closed Plate Boundaries</em> (or <em>Resolved Topological Networks</em>) layer is automatically created (when the appropriate feature collection is loaded) GPlates will search for all <em>Calculated Velocity Fields</em> layers and connect their input to the output of the new <em>Resolved Topological Closed Plate Boundaries</em> (or <em>Resolved Topological Networks</em>) layer.</td>
</tr></table>
</div>
<div class="paragraph"><p><span class="image">
<a class="image" href="Controlling_View.html">
<img src="images/icons/prev.png" alt="images/icons/prev.png" />
</a>
</span> <span class="image">
<a class="image" href="index.html">
<img src="images/icons/home.png" alt="images/icons/home.png" />
</a>
</span> <span class="image">
<a class="image" href="Reconstructions.html">
<img src="images/icons/next.png" alt="images/icons/next.png" />
</a>
</span></p></div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-01-30 13:53:03 AUS Eastern Daylight Time
</div>
</div>
</body>
</html>
